# Тестирование SSO

## Основной подход

В проекте SSO реализован подход к тестированию, где тесты имитируют реальное поведение пользователя без использования предварительно подготовленных данных. Система не знает, что работает в тестовом режиме, что позволяет проверить её поведение в условиях, максимально приближенных к реальным.

## Ключевые аспекты тестирования

1. **Регистрация и аутентификация**:
   - Тестирование процесса регистрации новых пользователей
   - Проверка процесса входа в систему
   - Валидация возвращаемых токенов

2. **Проверка токенов**:
   - Парсинг и валидация JWT-токенов
   - Проверка всех полей токена (uid, email, app_id)
   - Валидация времени жизни токена

3. **Негативные сценарии**:
   - Дублирующая регистрация
   - Некорректные учетные данные
   - Отсутствующие обязательные поля
   - Неверные пароли

## Техническая реализация

1. **Структура тестов**:
   - Отдельная директория `tests/`
   - Миграции для тестовой базы данных
   - Подготовка тестового окружения

2. **Генерация данных**:
   - Использование библиотеки `gofakeit`
   - Создание случайных email и паролей
   - Изоляция тестового окружения

3. **Запуск тестов**:
   - Выполнение миграций
   - Настройка тестового окружения
   - Запуск тестов с подробным выводом

## Особенности реализации

1. **Безопасность**:
   - Проверка валидации входных данных
   - Тестирование механизмов защиты
   - Валидация токенов доступа

2. **Обработка ошибок**:
   - Проверка корректных сообщений об ошибках
   - Тестирование граничных случаев
   - Валидация обработки некорректных данных

3. **Изоляция**:
   - Независимое тестовое окружение
   - Моки внешних зависимостей
   - Воспроизводимые тесты 